(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(20)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),s=n(4),r=n.n(s),o=(n(16),n(1)),c=n(2),u=n(5),i=n(6),m=n(8),d=n(7),p=n(9),E=(n(17),n(18),function(e){var t=e.name,n=e.email,a=e.address;return l.a.createElement("div",{class:"user"},l.a.createElement("p",null,l.a.createElement("strong",null,"Name of auhtor:")),l.a.createElement("p",null,t),l.a.createElement("p",null,l.a.createElement("strong",null,"Email:")),l.a.createElement("p",null,n),l.a.createElement("p",null,l.a.createElement("strong",null,"Address:")),l.a.createElement("p",null,a.street),l.a.createElement("p",null,a.suite),l.a.createElement("p",null,a.sity),l.a.createElement("p",null,a.zipcode),l.a.createElement("p",null,l.a.createElement("p",null,a.geo.lat),a.geo.lng))}),f=(n(19),function(e){var t=e.name,n=e.email,a=e.body;return l.a.createElement("div",{class:"comment"},l.a.createElement("p",null,l.a.createElement("strong",null,"Comments name:")),l.a.createElement("p",null,t),l.a.createElement("p",null,l.a.createElement("strong",null,"Email:")),l.a.createElement("p",null,n),l.a.createElement("p",null,l.a.createElement("strong",null,"Content of comment:")),l.a.createElement("p",null,a))}),h=function(e){var t=e.id,n=e.comments.filter(function(e,n,a){return e.postId===t});return l.a.createElement("div",null,n.map(function(e,t){return l.a.createElement(f,{body:e.body,name:e.name,email:e.email})}))},g=function(e){var t=e.id,n=e.title,a=e.user,s=e.body,r=e.comments;return l.a.createElement("div",{class:"post"},l.a.createElement("p",null,l.a.createElement("strong",null,"Title of post:")),l.a.createElement("p",null,n),l.a.createElement("p",null,l.a.createElement("strong",null,"Post content:")),l.a.createElement("p",null,s),l.a.createElement("p",null,l.a.createElement(E,Object.assign({key:e.id},a))),l.a.createElement("p",null,l.a.createElement(h,{id:t,comments:r})))},v=function(e){var t=e.postsWithUsers,n=e.comments;return l.a.createElement("div",null,t.map(function(e){return l.a.createElement(g,Object.assign({key:e.id},e,{comments:n}))}))},L=function(e){var t=e.search,n=e.value;return l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{type:"text",onChange:t,value:n}))},C="https://jsonplaceholder.typicode.com",b=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).loadData=function(){n.makeRequest("".concat(C,"/posts"),n.handlePOSTsLoad),n.makeRequest("".concat(C,"/users"),n.handleUsersLoad),n.makeRequest("".concat(C,"/comments"),n.handleCommentsLoad)},n.handlePOSTsLoad=function(e){return function(){n.setState(function(t){return{posts:JSON.parse(e.responseText),isPOSTSLoaded:!0,loadingCount:t.loadingCount-1}})}},n.handleUsersLoad=function(e){return function(){n.setState(function(t){return{users:JSON.parse(e.responseText),isUsersLoaded:!0,loadingCount:t.loadingCount-1}},n.checkData)}},n.handleCommentsLoad=function(e){return function(){n.setState(function(t){return{comments:JSON.parse(e.responseText),isCommentsLoaded:!0,loadingCount:t.loadingCount-1}},n.checkData)}},n.search=function(e){var t=e.target.value;n.setState(function(e){var n=e.postsWithUsers.filter(function(e){return e.title.includes(t)||e.body.includes(t)});return{searchBy:t,filteredPostsWithUsers:n}})},n.state={posts:null,users:null,comments:null,isPOSTSLoaded:!1,isUsersLoaded:!1,isCommentsLoaded:!1,loadingCount:0,postsWithUsers:null,filteredPostsWithUsers:null,searchBy:""},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"makeRequest",value:function(e,t){var n=new XMLHttpRequest;n.open("GET",e),n.addEventListener("load",t(n)),n.send(),this.setState(function(e){return{loadingCount:e.loadingCount+1}})}},{key:"checkData",value:function(){var e=this.state,t=e.isPOSTSLoaded,n=e.isUsersLoaded,a=e.isCommentsLoaded,l=e.comments,s=e.users,r=e.posts;if(t&&n&&a){var u=s.reduce(function(e,t){return Object(c.a)({},e,Object(o.a)({},t.id,t))},{}),i=r.map(function(e){return Object(c.a)({},e,{user:u[e.userId]})});this.setState({filteredPostsWithUsers:i,postsWithUsers:i,comments:l})}}},{key:"render",value:function(){var e=this.state,t=e.isPOSTSLoaded,n=e.isUsersLoaded,a=e.isCommentsLoaded,s=e.loadingCount,r=e.filteredPostsWithUsers,o=e.searchBy,c=e.comments,u=t&&n&&a&&null!==r,i=0!==s,m=l.a.createElement("button",{type:"button",disabled:u,onClick:this.loadData},i?"Loading...":"Load data");return u?l.a.createElement(l.a.Fragment,null,l.a.createElement(L,{search:this.search,value:o}),m,l.a.createElement(v,{postsWithUsers:r,comments:c})):m}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.ed3b01ea.chunk.js.map